<br />
<br />
<br />
<p>ผลประเมินความพึงพอใจ</p>
<form (ngSubmit)="searchJob(SearchJobForm)" #SearchJobForm="ngForm">
  <label>วันที่</label>
  <div class="form-group">
    <div class="input-group">
      <input
        class="form-control"
        (click)="d.toggle()"
        placeholder="yyyy-mm-dd"
        name="workDate"
        ngModel
        ngbDatepicker
        #d="ngbDatepicker"
      />
    </div>
  </div>
  <p>ถึง</p>
  <div class="form-group">
    <div class="input-group">
      <input
        class="form-control"
        (click)="d2.toggle()"
        placeholder="yyyy-mm-dd"
        name="endworkDate"
        ngModel
        ngbDatepicker
        #d2="ngbDatepicker"
      />
    </div>
  </div>
  <button class="form-control" type="submit">Submit</button>
</form>

<hr />
<h3>ผลลัพท์ค้นหา</h3>
<hr />
<label>ภาพรวมระบบ :</label>
<table class="table table-striped">
  <thead>
    <tr>
      <th scope="col">พนักงาน</th>
      <th scope="col">คะแนนความพึงพอใจ</th>
      <th scope="col">การจ้างงาน</th>
      <th scope="col">วันที่เริ่มงาน</th>
      <th scope="col">action</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let data1 of wikis">
      <td>{{ data1.value.firstname }}</td>
      <td>{{ data1.value.firstname }}</td>
      <td>พนักงานประจำ</td>
      <td>
        {{ data1.value.hireDate.day }} /{{ data1.value.hireDate.month }} /{{
          data1.value.hireDate.year
        }}
      </td>
      <td>
        <button
          type="button"
          class="btn icon"
          (click)="showJobByDriver(data1)"
          (click)="isCollapsed = !isCollapsed"
          [attr.aria-expanded]="!isCollapsed"
          aria-controls="collapForm"
        >
          <i class="far fa-file-alt"></i>
        </button>
      </td>
    </tr>
  </tbody>
</table>

<div id="collapForm" [ngbCollapse]="!isCollapsed">
  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">source</th>
        <th scope="col">destination</th>
        <th scope="col">worktype</th>
        <th scope="col">customerFirstname</th>
        <th scope="col">workDate</th>
        <th scope="col">workTime</th>
        <th scope="col">customerPhone</th>
        <th scope="col">customerLine</th>
        <th scope="col">detail</th>
        <th scope="col">status</th>
        <th scope="col">driver</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let data of job">
        <td>{{ data.value.source }}</td>
        <td>{{ data.value.destination }}</td>
        <td>{{ data.value.worktype }}</td>
        <td>{{ data.value.customerFirstname }}</td>
        <td>
          {{ data.value.workDate.day }} /{{ data.value.workDate.month }} /
          {{ data.value.workDate.year }}
        </td>
        <td>{{ data.value.workTime.hour }}:{{ data.value.workTime.minute }}</td>
        <td>{{ data.value.customerPhone }}</td>
        <td>{{ data.value.customerLine }}</td>
        <td>{{ data.value.detail }}</td>
        <td>{{ data.value.status }}</td>
        <td>{{ data.value.driver }}</td>
      </tr>
    </tbody>
  </table>
</div>

<!-- <table class="table">
  <thead>
    <tr>
      <td>source</td>
      <td>destination</td>
      <td>worktype</td>
      <td>customerFirstname</td>
      <td>workDate</td>
      <td>workTime</td>
      <td>customerPhone</td>
      <td>customerLine</td>
      <td>detail</td>
      <td>status</td>

    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let data of job">
      <td>{{ data.value.source }}</td>
      <td>{{ data.value.destination }}</td>
      <td>{{ data.value.worktype }}</td>
      <td>{{ data.value.customerFirstname }}</td>
      <td>
        {{ data.value.workDate.day }} /{{ data.value.workDate.month }} /
        {{ data.value.workDate.year }}
      </td>
      <td>{{ data.value.workTime.hour }}:{{ data.value.workTime.minute }}</td>
      <td>{{ data.value.customerPhone }}</td>
      <td>{{ data.value.customerLine }}</td>
      <td>{{ data.value.detail }}</td>
      <td>{{ data.value.status }}</td>

    </tr>
  </tbody>
</table> -->
